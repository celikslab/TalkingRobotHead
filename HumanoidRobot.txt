
port = "COM5" //port bilgisinin 
arduino = Runtime.start("arduino","Arduino")
arduino.connect(port)
rgozled=2
lgozled=3
arduino.pinMode(rgozled, Arduino.OUTPUT)
arduino.pinMode(lgozled, Arduino.OUTPUT)
Voice = "dfki-ot-hsmm" 
voiceType = Voice
mouth = Runtime.createAndStart("mouth", "MarySpeech")
mouth.setVoice(voiceType)
cenekontrol = Runtime.createAndStart("cenekontrol", "MouthControl")
WebGui = Runtime.create("WebGui","WebGui")
WebGui.autoStartBrowser(False)
WebGui.startService()
WebGui.startBrowser("http://localhost:8888/#/service")
#webkitspeechrecognition Runtime.start("webkitspeechrecognition","WebkitSpeechRecognition")
#webkitspeechrecognition.setLanguage("tr")
ear = Runtime.createAndStart("ear", "WebkitSpeechRecognition")
#ear.addListener("publishText", python.name, "heard");
ear.setAutoListen(False) 
ear.setContinuous(False)
ear.setLanguage("tr")
ear.addMouth(mouth)
gozx = Runtime.createAndStart("gozx","Servo")
gozy = Runtime.createAndStart("gozy","Servo")
boyunx = Runtime.createAndStart("boyunx","Servo")
cene = Runtime.createAndStart("cene","Servo")
boyuny = Runtime.createAndStart("boyuny","Servo")
gozy.attach(arduino, 5)
gozx.attach(arduino, 6)
boyuny.attach(arduino, 9)
cene.attach(arduino, 11)
boyunx.attach(arduino,10)
boyuny.map(0,180,30,150)
boyunx.map(0,180,40,130)
cene.map(0,180,25,80)
gozx.map(0,180,50,180)
gozy.map(0,180,0,110)
cenekontrol.setJaw(cene)
cenekontrol.setMouth(mouth)
cenekontrol.setmouth(25,80)
cenekontrol.setdelays(60,60,70)
cenekontrol.startService()
arduino.digitalWrite(rgozled,1)
arduino.digitalWrite(lgozled,1)
boyunx.moveTo(45)
boyuny.moveTo(115)
gozx.moveTo(50)
gozy.moveTo(80)
cene.moveTo(0)
ear.addCommand("merhaba", "python", "merhaba")
def merhaba():
mouth.setAudioEffects("FIRFilter(type=3,fc1=500, fc2=2500)+F0Add(f0Add=150.0)+TractScaler(amount=1.2)+F0Scale(f0Scale=0.5)+Whisper(amount=1)+Tractlinear(amount=1)+Chorus(delay1=5000, amp=5)+Volume(amount=10)")
mouth.speakBlocking("merhaba muhammed")
